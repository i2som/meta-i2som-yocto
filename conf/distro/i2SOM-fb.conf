require conf/distro/poky.conf
require common.inc

DISTRO = "i2SOM-fb"
DISTRO_NAME = "i2SOM Framebuffer (i2SOM Embedded Linux Distribution)"

#DISTRO_FEATURES += "systemd"
#DISTRO_FEATURES_remove = "argp irda pcmcia zeroconf x11 ptest multiarch wayland"

DISTRO_FEATURES += "sysvinit"
DISTRO_FEATURES_remove = "opengl argp irda pcmcia zeroconf x11 ptest multiarch vulkan wayland"
DISTRO_FEATURES_DEFAULT_remove = " x11"

GRAPHICAL_BACKEND = "${@bb.utils.contains('DISTRO_FEATURES', 'x11', 'x11', 'fb', d)}"
POKY_DEFAULT_DISTRO_FEATURES_remove = "ptest wayland opengl"

VIRTUAL-RUNTIME_dev_manager = "udev"
#VIRTUAL-RUNTIME_init_manager = "systemd"
VIRTUAL-RUNTIME_init_manager = "sysvinit"
DISTRO_FEATURES_BACKFILL_CONSIDERED += "sysvinit"
VIRTUAL-RUNTIME_login_manager = "busybox"
VIRTUAL-RUNTIME_syslog = "syslog"
VIRTUAL-RUNTIME_initscripts = "initscripts"

# some default locales
IMAGE_LINGUAS ?= "zh-cn en-us"

PREFERRED_VERSION_nodejs = "6.%"
PREFERRED_VERSION_nodejs-native = "6.%"
